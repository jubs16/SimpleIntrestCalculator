{"ast":null,"code":"export class CurlHelper {\n  constructor(config) {\n    this.request = config;\n  }\n\n  getHeaders() {\n    let headers = this.request.headers,\n        curlHeaders = \"\"; // get the headers concerning the appropriate method (defined in the global axios instance)\n\n    if (headers.hasOwnProperty(\"common\")) {\n      headers = this.request.headers[this.request.method];\n    } // add any custom headers (defined upon calling methods like .get(), .post(), etc.)\n\n\n    for (let property in this.request.headers) {\n      if (![\"common\", \"delete\", \"get\", \"head\", \"patch\", \"post\", \"put\"].includes(property)) {\n        headers[property] = this.request.headers[property];\n      }\n    }\n\n    for (let property in headers) {\n      let header = `${property}:${headers[property]}`;\n      curlHeaders = `${curlHeaders} -H \"${header}\"`;\n    }\n\n    return curlHeaders.trim();\n  }\n\n  getMethod() {\n    return `-X ${this.request.method.toUpperCase()}`;\n  }\n\n  getBody() {\n    if (typeof this.request.data !== \"undefined\" && this.request.data !== \"\" && Object.keys(this.request.data).length && this.request.method.toUpperCase() !== \"GET\") {\n      let data = typeof this.request.data === \"object\" || Object.prototype.toString.call(this.request.data) === \"[object Array]\" ? JSON.stringify(this.request.data) : this.request.data;\n      return `--data '${data}'`.trim();\n    } else {\n      return \"\";\n    }\n  }\n\n  getUrl() {\n    return this.request.url;\n  }\n\n  getQueryString() {\n    let params = \"\",\n        i = 0;\n\n    for (let param in this.request.params) {\n      if (i != 0) {\n        params += `&${param}=${this.request.params[param]}`;\n      } else {\n        params = `?${param}=${this.request.params[param]}`;\n      }\n\n      i++;\n    }\n\n    return params;\n  }\n\n  getBuiltURL() {\n    let url = this.getUrl();\n\n    if (this.getQueryString() != \"\") {\n      url = url.charAt(url.length - 1) == '/' ? url.substr(0, url.length - 1) : url;\n      url += this.getQueryString();\n    }\n\n    return url.trim();\n  }\n\n  generateCommand() {\n    return `curl ${this.getMethod()} ${this.getHeaders()} ${this.getBody()} \"${this.getBuiltURL()}\"`.trim().replace(/\\s{2,}/g, \" \");\n  }\n\n}","map":{"version":3,"sources":["/Users/jubert/Desktop/lendico/fullstack/client/node_modules/axios-curlirize/src/lib/CurlHelper.js"],"names":["CurlHelper","constructor","config","request","getHeaders","headers","curlHeaders","hasOwnProperty","method","property","includes","header","trim","getMethod","toUpperCase","getBody","data","Object","keys","length","prototype","toString","call","JSON","stringify","getUrl","url","getQueryString","params","i","param","getBuiltURL","charAt","substr","generateCommand","replace"],"mappings":"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","sourcesContent":["export class CurlHelper {\n  constructor(config) {\n    this.request = config;\n  }\n\n  getHeaders() {\n    let headers = this.request.headers,\n      curlHeaders = \"\";\n\n    // get the headers concerning the appropriate method (defined in the global axios instance)\n    if (headers.hasOwnProperty(\"common\")) {\n      headers = this.request.headers[this.request.method];\n    }\n\n    // add any custom headers (defined upon calling methods like .get(), .post(), etc.)\n    for (let property in this.request.headers) {\n      if (\n        ![\"common\", \"delete\", \"get\", \"head\", \"patch\", \"post\", \"put\"].includes(\n          property\n        )\n      ) {\n        headers[property] = this.request.headers[property];\n      }\n    }\n\n    for (let property in headers) {\n      let header = `${property}:${headers[property]}`;\n      curlHeaders = `${curlHeaders} -H \"${header}\"`;\n    }\n\n    return curlHeaders.trim();\n  }\n\n  getMethod() {\n    return `-X ${this.request.method.toUpperCase()}`;\n  }\n\n  getBody() {\n    if (\n      typeof this.request.data !== \"undefined\" &&\n      this.request.data !== \"\" &&\n      Object.keys(this.request.data).length &&\n      this.request.method.toUpperCase() !== \"GET\"\n    ) {\n      let data =\n        typeof this.request.data === \"object\" ||\n        Object.prototype.toString.call(this.request.data) === \"[object Array]\"\n          ? JSON.stringify(this.request.data)\n          : this.request.data;\n      return `--data '${data}'`.trim();\n    } else {\n      return \"\";\n    }\n  }\n\n  getUrl() {\n    return this.request.url\n  }\n\n  getQueryString() {\n    let params = \"\",\n      i = 0;\n\n    for (let param in this.request.params) {\n      if (i != 0) {\n        params += `&${param}=${this.request.params[param]}`;\n      } else {\n        params = `?${param}=${this.request.params[param]}`;\n      }\n      i++;\n    }\n\n    return params;\n  }\n\n  getBuiltURL() {\n    let url = this.getUrl();\n\n    if (this.getQueryString() != \"\") {\n      url = (url.charAt(url.length - 1) == '/')  ? url.substr(0, url.length - 1) : url; \n      url += this.getQueryString();\n    }\n\n    return url.trim();\n  }\n\n  generateCommand() {\n    return `curl ${this.getMethod()} ${this.getHeaders()} ${this.getBody()} \"${this.getBuiltURL()}\"`\n      .trim()\n      .replace(/\\s{2,}/g, \" \");\n  }\n}\n"]},"metadata":{},"sourceType":"module"}